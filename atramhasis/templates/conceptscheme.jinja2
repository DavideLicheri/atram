{% extends 'layout.jinja2' %}

{% block html_title %}Concept schemes{% endblock %}

{% from "macros.jinja2" import
    print_labels,
    print_concepts
  %}

{% block content %}
  <div class="large-12 columns">
    <div class="row">
      <div class="clearfix">
        <ul class="downloadtop right">
          <li>DOWNLOAD</li>
          <li><a title="Download the scheme and it's top concepts in RDF/XML format." href="{{request.route_path('atramhasis.rdf_conceptscheme_export_ext', scheme_id=conceptscheme.scheme_id)}}">RDF/XML</a></li>
          <li><a title="Download the scheme and it's top concepts in N3/Turle format." href="{{request.route_path('atramhasis.rdf_conceptscheme_export_turtle_ext', scheme_id=conceptscheme.scheme_id)}}">N3/Turtle</a></li>
          <li><a title="Download the scheme and all it's concepts and collections in RDF/XML format." href="{{request.route_path('atramhasis.rdf_full_export_ext', scheme_id=conceptscheme.scheme_id)}}">Full RDF/XML</a></li>
          <li><a title="Download the scheme and all it's concepts and collections in N3/Turtle format." href="{{request.route_path('atramhasis.rdf_full_export_turtle_ext', scheme_id=conceptscheme.scheme_id)}}">Full N3/Turtle</a></li>
        </ul>
      </div>

      <div class="large-12 columns panel">
        <h1 class="panel-header left">{{ conceptscheme.title }}</h1>
        <h2 class="id-header right">[ ID : {{ conceptscheme.scheme_id }} ]</h2>
        <hr>

        <dl class="infolist clearfix">
          {% if conceptscheme.uri %}
            <dt>uri</dt>
            <dd><a href="{{ conceptscheme.uri }}">{{ conceptscheme.uri }}</a></dd>
          {% endif %}

          {% if conceptscheme.labels %}
            {{ print_labels(conceptscheme.labels) }}
          {% endif %}
        </dl>

        {% if conceptscheme.notes %}
          <dt>{% trans %}notes{% endtrans %}</dt>
          <dd>
            {%- for note in conceptscheme.notes %}
              <span>{{ note.notetype_id }} <em>({{ note.language }})</em> {{ note.note}}</span><br>
            {%- endfor %}
          </dd>
        {% endif %}
        {% if conceptscheme.sources %}
          <dt>{% trans %}sources{% endtrans %}</dt>
          <dd>
            {%- for source in conceptscheme.sources %}
              <span>{{ source.citation}}</span><br>
            {%- endfor %}
          </dd>
        {% endif %}
        <div class="row">
          <div class="large-2 columns right">
            <a href="{{ request.route_path('admin') }}"
               class="fa fa-pencil editIcon"
               title="Edit concept">
            </a>
          </div>
        </div>
      </div>

      {% if conceptscheme.top_concepts %}
        <div class="clearfix">
          <h3 style="margin-top: 20px;">top {% trans %}type_concept{% endtrans %}</h3>
        </div>
        {{ print_concepts(request, conceptscheme.top_concepts, conceptscheme) }}
      {% endif %}
    </div>
  </div>
{% endblock %}
